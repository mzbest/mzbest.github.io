<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Hugo Github Pages | My New Hugo Site</title>
<meta name="keywords" content="Hugo, Github Pages">
<meta name="description" content="Getting Started With Hugo
https://youtu.be/hjD9jTi_DQ4?si=e_MkDyK4bCq905sk
Hugo 是一个静态页面生成器，类似于Jekyll，但略有不同。
gethugo.io  获得 Hugo
静态网站：快速；易用性。
动态网站：需要链接数据库，后端，比较慢；同时也比较复杂。
安装Hugo


使用对应系统的Hugo包管理工具来安装


安装Hugo


为了安装Hugo，需要安装Scoop
 # 以下代码可解决在admin状态下安装scoop失败的问题
 iex  &#34;&amp; {$(irm get.scoop.sh)} -RunAsAdmin &#34;


Hugo使用
hugo new site hugo-demo -f yml # 好像-f yml 参数在这里是没有用的，都会生成hugo.toml配置文件，虽然有些不适应，但也勉强能看懂。
会在shell打开位置建立一个新的静态网页文件
进入hugo-demo目录
git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth=1  #虽然能用，但是不建议这样做，是因为会在git的时候，发生一些问题。可以用hugo网页quick start中的方法。下面请看：
hugo new site quickstart
cd quickstart
git init
git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke  # 将主题模块作为了git子模块，这样在后面提交到github的时候少了两个git模块之间的冲突。
echo &#34;theme = &#39;ananke&#39;&#34; &gt;&gt; hugo.toml
hugo server
然后就会在hugo-demo/theme/文件夹下面出现PaperMod主题文件，没有下载之前，theme文件夹下面是空的。
在vscode中编辑hugo-demo的配置文件：
hugo.toml
baseURL = &#39;&#39;
languageCode = &#39;en-us&#39;
title = &#39;Demo for Hugo&#39;
theme = &#34;PaperMod&#34;  # 单引号或者双引号都是可以的，但是如果是不加引号，就会在执行 hugo serve 命令的时候报错，显示无法load 配置文件
修改完毕后执行">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/hugo-github-pages/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css" integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY&#43;IJWZFnspCg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/hugo-github-pages/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Hugo Github Pages
    </h1>
    <div class="post-meta"><span title='2024-10-22 15:47:32 +0800 CST'>October 22, 2024</span>

</div>
  </header> 
  <div class="post-content"><h2 id="getting-started-with-hugo">Getting Started With Hugo<a hidden class="anchor" aria-hidden="true" href="#getting-started-with-hugo">#</a></h2>
<p><a href="https://youtu.be/hjD9jTi_DQ4?si=e_MkDyK4bCq905sk">https://youtu.be/hjD9jTi_DQ4?si=e_MkDyK4bCq905sk</a></p>
<p>Hugo 是一个静态页面生成器，类似于Jekyll，但略有不同。</p>
<p>gethugo.io  获得 Hugo</p>
<p>静态网站：快速；易用性。</p>
<p>动态网站：需要链接数据库，后端，比较慢；同时也比较复杂。</p>
<p>安装Hugo</p>
<ol>
<li>
<p>使用对应系统的Hugo包管理工具来安装</p>
</li>
<li>
<p>安装Hugo</p>
</li>
<li>
<p>为了安装Hugo，需要安装Scoop</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span> <span style="color:#75715e"># 以下代码可解决在admin状态下安装scoop失败的问题</span>
</span></span><span style="display:flex;"><span> iex  <span style="color:#e6db74">&#34;&amp; {</span>$(irm get.scoop.sh)<span style="color:#e6db74">} -RunAsAdmin &#34;</span>
</span></span></code></pre></div></li>
</ol>
<p>Hugo使用</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new site hugo-demo -f yml <span style="color:#75715e"># 好像-f yml 参数在这里是没有用的，都会生成hugo.toml配置文件，虽然有些不适应，但也勉强能看懂。</span>
</span></span></code></pre></div><p>会在shell打开位置建立一个新的静态网页文件</p>
<p>进入hugo-demo目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>  <span style="color:#75715e">#虽然能用，但是不建议这样做，是因为会在git的时候，发生一些问题。可以用hugo网页quick start中的方法。下面请看：</span>
</span></span><span style="display:flex;"><span>hugo new site quickstart
</span></span><span style="display:flex;"><span>cd quickstart
</span></span><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke  <span style="color:#75715e"># 将主题模块作为了git子模块，这样在后面提交到github的时候少了两个git模块之间的冲突。</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;theme = &#39;ananke&#39;&#34;</span> &gt;&gt; hugo.toml
</span></span><span style="display:flex;"><span>hugo server
</span></span></code></pre></div><p>然后就会在hugo-demo/theme/文件夹下面出现PaperMod主题文件，没有下载之前，theme文件夹下面是空的。</p>
<p>在vscode中编辑hugo-demo的配置文件：</p>
<p>hugo.toml</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#a6e22e">baseURL</span> = <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">languageCode</span> = <span style="color:#e6db74">&#39;en-us&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">title</span> = <span style="color:#e6db74">&#39;Demo for Hugo&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">theme</span> = <span style="color:#e6db74">&#34;PaperMod&#34;</span>  <span style="color:#75715e"># 单引号或者双引号都是可以的，但是如果是不加引号，就会在执行 hugo serve 命令的时候报错，显示无法load 配置文件</span>
</span></span></code></pre></div><p>修改完毕后执行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo serve<span style="color:#f92672">(</span>r<span style="color:#f92672">)</span> 
</span></span></code></pre></div><p>即可在本地访问。</p>
<p>添加新内容</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new content content/posts/my-first-post.md
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 生成的my-first-post.md 开头便是如下内容</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># draft 草稿的意思  如果值为 true，那么执行`hugo srever`命令的时候，便会看不到。那怎么办呢，两个办法，1. 将true改为false,也就是说不是草稿，已经可以发布了；2. `hugo server --buildDrafts` 或者`hugo server -D`，这样在后面加了参数，便可以在hugo构建的时候，将草稿构建进去，在本地的网站上便能看见了。</span>
</span></span><span style="display:flex;"><span>+++
</span></span><span style="display:flex;"><span>title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;My First Post&#39;</span>
</span></span><span style="display:flex;"><span>date <span style="color:#f92672">=</span> 2024-01-14T07:07:07+01:00
</span></span><span style="display:flex;"><span>draft <span style="color:#f92672">=</span> true
</span></span><span style="display:flex;"><span>+++
</span></span></code></pre></div><p>那么，剩下的就是把hugo项目发布到github上面，可是呢，发布上去以后，却会发现github Pages地址打开后是404，为什么呢，是因为hugo与jekyll不同，由jekyll打包的项目能直接在xxx.github.io显示。而hugo的，不可以。下面说一下该怎么配置：（也非常简单，但我摸索了有一会儿。）</p>
<p>方法在 <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">https://gohugo.io/hosting-and-deployment/hosting-on-github/</a></p>
<p><strong>Host on GitHub Pages</strong>  在GitHub Pages上托管</p>
<p>先决条件：</p>
<ol>
<li>创建一个Github 账号</li>
<li>电脑上安装了 Git</li>
<li>在本地已经用 <code>hugo server</code>创建了一个Hugo 站点</li>
</ol>
<p>……后面我就不啰嗦了。按照刚才的蓝色链接去看就行。</p>
<p><strong>注意：</strong></p>
<p>……</p>
<p>第五步</p>
<p>Create an empty file in your local repository.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>.github/workflows/hugo.yaml <span style="color:#75715e"># 注意，这个配置文件不要不小心建在了public目录下，不要，不要，不要。</span>
</span></span></code></pre></div><p>第六步</p>
<p>Copy and paste the YAML below into the file you created. Change the branch name and Hugo version as needed.</p>
<p>注意上面，有两点根据需要要进行修改，分别是<code>branch name</code> 和 <code>Hugo version</code>，而<code>branch name</code>配置文件中写的是 <code>main</code>，而Gighub里面好像默认是<code>master</code>分支，如果不改，便无法在代码提交以后，GitHub pages通过gitAction自动部署，只能手动去点了。</p>
<p>那如果说，你有两个分支，一个<code>main</code>分支，还有一个比如叫做<code>gh-pages</code>分支吧，那你会想到把<code>gh-pages</code>添加到第六步当中的YAML配置文件中，这是没错的，然后也会出发Github Action，build的过程没问题，在deploy过程就会失败，会提示安全限制类似的提醒，那么我们就需要更改以下：</p>
<p>github repository中——settings——Environments ，将<code>gh-pages</code>添加进去就好了。然后你从新更改，提交，部署，就会看到会出发Github Action，然后就能看到自己网页的变化了。</p>
<p>目前我的进展就是这样，hugo还有很多需要学习，先记录在这里，作为阶段的学习成果。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/hugo/">Hugo</a></li>
      <li><a href="http://localhost:1313/tags/github-pages/">Github Pages</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
